{"ast":null,"code":"\"use strict\";\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar Carousel = function (_React$Component) {\n  _inherits(Carousel, _React$Component);\n\n  var _super = _createSuper(Carousel);\n\n  function Carousel(props) {\n    var _this;\n\n    _classCallCheck(this, Carousel);\n\n    _this = _super.call(this, props);\n    _this.autoPlayTimer = 0;\n    _this.currentIndex = 0;\n    _this.panStartIndex = 0;\n    _this.panOffsetFactor = 0;\n    _this.state = {\n      scrollValue: new react_native_1.Animated.Value(0)\n    };\n    return _this;\n  }\n\n  _createClass(Carousel, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      this.panResponder = react_native_1.PanResponder.create({\n        onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n          _this2.startPanResponder();\n\n          return true;\n        },\n        onMoveShouldSetPanResponder: function onMoveShouldSetPanResponder(e, g) {\n          if (Math.abs(g.dx) > Math.abs(g.dy)) {\n            _this2.startPanResponder();\n\n            return true;\n          } else {\n            return false;\n          }\n        },\n        onPanResponderTerminationRequest: function onPanResponderTerminationRequest() {\n          return false;\n        },\n        onPanResponderGrant: function onPanResponderGrant() {\n          _this2.startPanResponder();\n        },\n        onPanResponderStart: function onPanResponderStart(e, g) {\n          _this2.startPanResponder();\n        },\n        onPanResponderMove: function onPanResponderMove(e, g) {\n          _this2.panOffsetFactor = _this2.computePanOffset(g);\n\n          _this2.gotoPage(_this2.panStartIndex + _this2.panOffsetFactor, false);\n        },\n        onPanResponderEnd: function onPanResponderEnd(e, g) {\n          _this2.endPanResponder(g);\n\n          _this2.scrollView.scrollTo({\n            x: 0,\n            animated: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.autoplay) {\n        this.startAutoPlay();\n      }\n\n      this.gotoPage(this.props.index + (this.props.loop ? 1 : 0), false);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.autoplay) {\n        this.startAutoPlay();\n      } else {\n        this.stopAutoPlay();\n      }\n    }\n  }, {\n    key: \"startAutoPlay\",\n    value: function startAutoPlay() {\n      var _this3 = this;\n\n      this.stopAutoPlay();\n\n      if (!this.autoPlayTimer) {\n        this.autoPlayTimer = setInterval(function () {\n          _this3.gotoNextPage();\n        }, this.props.autoplayTimeout);\n      }\n    }\n  }, {\n    key: \"stopAutoPlay\",\n    value: function stopAutoPlay() {\n      if (this.autoPlayTimer) {\n        clearInterval(this.autoPlayTimer);\n        this.autoPlayTimer = 0;\n      }\n    }\n  }, {\n    key: \"computePanOffset\",\n    value: function computePanOffset(g) {\n      var offset = -g.dx / (this.props.pageSize / this.props.slipFactor);\n\n      if (Math.abs(offset) > 1) {\n        offset = offset > 1 ? 1 : -1;\n      }\n\n      return offset;\n    }\n  }, {\n    key: \"startPanResponder\",\n    value: function startPanResponder() {\n      this.stopAutoPlay();\n      this.panStartIndex = this.currentIndex;\n      this.panOffsetFactor = 0;\n\n      if (this.pageAnimation) {\n        var index = this.currentIndex;\n        this.pageAnimation.stop();\n        this.gotoPage(index);\n      }\n    }\n  }, {\n    key: \"endPanResponder\",\n    value: function endPanResponder(g) {\n      if (this.props.autoplay) {\n        this.startAutoPlay();\n      }\n\n      var newIndex = this.currentIndex;\n      this.panOffsetFactor = this.computePanOffset(g);\n\n      if (this.panOffsetFactor > 0.5 || this.panOffsetFactor > 0 && g.vx <= -0.1) {\n        newIndex = Math.floor(this.currentIndex + 1);\n      } else if (this.panOffsetFactor < -0.5 || this.panOffsetFactor < 0 && g.vx >= 0.1) {\n        newIndex = Math.ceil(this.currentIndex - 1);\n      } else {\n        newIndex = Math.round(this.currentIndex);\n      }\n\n      if (this.currentIndex === newIndex) {\n        return;\n      }\n\n      this.gotoPage(newIndex);\n    }\n  }, {\n    key: \"gotoNextPage\",\n    value: function gotoNextPage() {\n      var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var childrenNum = this.getChildrenNum();\n\n      if (!this.props.loop) {\n        if (this.currentIndex === childrenNum - 1) {\n          return;\n        }\n      }\n\n      this.gotoPage(Math.floor(this.currentIndex) + 1);\n    }\n  }, {\n    key: \"gotoPage\",\n    value: function gotoPage(index) {\n      var _this4 = this;\n\n      var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var cb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n      var childrenNum = this.getChildrenNum();\n\n      if (childrenNum <= 1) {\n        return cb();\n      }\n\n      if (index < 0) {\n        index = 0;\n      }\n\n      if (index > childrenNum - 1) {\n        index = childrenNum - 1;\n      }\n\n      var setIndex = function setIndex(index) {\n        _this4.currentIndex = index;\n\n        if (_this4.props.onPageChanged && Number.isInteger(_this4.currentIndex)) {\n          _this4.props.onPageChanged(_this4.getCurrentPage());\n        }\n      };\n\n      if (animated) {\n        this.pageAnimation = this.props.animation(this.state.scrollValue, index);\n        var animationId = this.state.scrollValue.addListener(function (state) {\n          setIndex(state.value);\n        });\n        this.pageAnimation.start(function () {\n          _this4.state.scrollValue.removeListener(animationId);\n\n          setIndex(index);\n          _this4.pageAnimation = null;\n\n          _this4.loopJump();\n\n          cb();\n        });\n      } else {\n        this.state.scrollValue.setValue(index);\n        setIndex(index);\n        this.loopJump();\n        cb();\n      }\n    }\n  }, {\n    key: \"getCurrentPage\",\n    value: function getCurrentPage() {\n      var childrenNum = this.getChildrenNum();\n\n      if (childrenNum <= 1) {\n        return childrenNum;\n      }\n\n      var index = this.currentIndex;\n\n      if (this.props.loop) {\n        if (index < 0.5) {\n          return index + childrenNum - 2 - 1;\n        } else if (index > childrenNum - 2 + 0.5) {\n          return index - childrenNum + 1;\n        } else {\n          return index - 1;\n        }\n      } else {\n        return index;\n      }\n    }\n  }, {\n    key: \"loopJump\",\n    value: function loopJump() {\n      if (!this.props.loop) {\n        return;\n      }\n\n      var childrenNum = this.getChildrenNum();\n\n      if (childrenNum <= 1) {\n        return;\n      }\n\n      if (this.currentIndex === 0) {\n        this.gotoPage(childrenNum - 2, false);\n      } else if (this.currentIndex === childrenNum - 1) {\n        this.gotoPage(1, false);\n      }\n    }\n  }, {\n    key: \"getChildrenNum\",\n    value: function getChildrenNum() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          loop = _this$props.loop;\n      var pages = React.Children.toArray(children);\n\n      if (pages.length < 2) {\n        return 1;\n      }\n\n      if (loop) {\n        return pages.length + 2;\n      } else {\n        return pages.length;\n      }\n    }\n  }, {\n    key: \"renderIndicator\",\n    value: function renderIndicator(config) {\n      if (!this.props.showsPageIndicator) {\n        return null;\n      }\n\n      if (this.props.renderPageIndicator) {\n        return this.props.renderPageIndicator(config);\n      }\n\n      var childrenNum = config.childrenNum,\n          pageNum = config.pageNum,\n          loop = config.loop,\n          scrollValue = config.scrollValue;\n\n      if (pageNum === 0) {\n        return null;\n      }\n\n      var indicators = [];\n\n      for (var i = 0; i < pageNum; i++) {\n        indicators.push(React.createElement(react_native_1.View, {\n          key: i,\n          style: [styles.pageIndicatorStyle, this.props.pageIndicatorStyle]\n        }));\n      }\n\n      var offset = this.props.pageIndicatorOffset;\n      var left;\n\n      if (pageNum === 1) {\n        left = this.state.scrollValue.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0, 0]\n        });\n      } else if (!loop) {\n        left = this.state.scrollValue.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0, offset]\n        });\n      } else {\n        left = this.state.scrollValue.interpolate({\n          inputRange: [0, 1, 2, childrenNum - 2, childrenNum - 1],\n          outputRange: [0, 0, offset, offset * (childrenNum - 3), offset * (childrenNum - 3)]\n        });\n      }\n\n      return React.createElement(react_native_1.View, {\n        style: [styles.pageIndicatorContainerStyle, this.props.pageIndicatorContainerStyle]\n      }, indicators, React.createElement(react_native_1.Animated.View, {\n        style: [styles.pageIndicatorStyle, styles.activePageIndicatorStyle, this.props.pageIndicatorStyle, this.props.activePageIndicatorStyle, {\n          left: left\n        }]\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          pageSize = _this$props2.pageSize,\n          loop = _this$props2.loop;\n      var scrollValue = this.state.scrollValue;\n      var pages = React.Children.toArray(children);\n      var pageNum = pages.length;\n\n      if (loop && pages.length > 1) {\n        pages.unshift(pages[pages.length - 1]);\n        pages.push(pages[1]);\n      }\n\n      pages = pages.map(function (page, index) {\n        return React.createElement(react_native_1.View, {\n          key: index,\n          style: {\n            width: pageSize\n          }\n        }, page);\n      });\n      var childrenNum = pages.length;\n      var content;\n\n      if (childrenNum < 1) {\n        content = null;\n      } else {\n        var translateX = scrollValue.interpolate({\n          inputRange: [0, 1, childrenNum],\n          outputRange: [0, -pageSize, -childrenNum * pageSize]\n        });\n        content = React.createElement(react_native_1.Animated.View, _extends({\n          style: {\n            flexDirection: 'row',\n            width: pageSize * childrenNum,\n            transform: [{\n              translateX: translateX\n            }]\n          }\n        }, this.panResponder.panHandlers), pages);\n      }\n\n      return React.createElement(react_native_1.View, null, React.createElement(react_native_1.ScrollView, {\n        ref: function ref(_ref) {\n          return _this5.scrollView = _ref;\n        },\n        style: {\n          width: pageSize\n        },\n        contentContainerStyle: {\n          width: pageSize + 1\n        },\n        horizontal: true,\n        pagingEnabled: true,\n        directionalLockEnabled: true,\n        bounces: false,\n        alwaysBounceHorizontal: false,\n        alwaysBounceVertical: false,\n        showsVerticalScrollIndicator: false,\n        showsHorizontalScrollIndicator: false,\n        scrollEnabled: react_native_1.Platform.OS === 'ios' ? true : false\n      }, content), this.renderIndicator({\n        childrenNum: childrenNum,\n        pageNum: pageNum,\n        loop: loop,\n        scrollValue: scrollValue\n      }));\n    }\n  }]);\n\n  return Carousel;\n}(React.Component);\n\nCarousel.defaultProps = {\n  pageSize: react_native_1.Dimensions.get('window').width,\n  index: 0,\n  loop: true,\n  autoplay: true,\n  autoplayTimeout: 5000,\n  slipFactor: 1,\n  showsPageIndicator: true,\n  pageIndicatorOffset: 16,\n  animation: function animation(animate, toValue) {\n    return react_native_1.Animated.spring(animate, {\n      toValue: toValue,\n      friction: 10,\n      tension: 50\n    });\n  }\n};\nexports.default = Carousel;\nvar styles = react_native_1.StyleSheet.create({\n  pageIndicatorStyle: {\n    width: 6,\n    height: 6,\n    borderRadius: 3,\n    marginHorizontal: 5,\n    backgroundColor: 'rgba(0,0,0,.4)'\n  },\n  activePageIndicatorStyle: {\n    position: 'absolute',\n    backgroundColor: '#ffc81f'\n  },\n  pageIndicatorContainerStyle: {\n    position: 'absolute',\n    alignSelf: 'center',\n    flexDirection: 'row',\n    bottom: 10\n  }\n});","map":{"version":3,"sources":["C:/Users/oscar/Documents/react-native/App-react-native/node_modules/react-native-banner-carousel/out/Carousel.js"],"names":["Object","defineProperty","exports","value","React","require","Carousel","props","autoPlayTimer","currentIndex","panStartIndex","panOffsetFactor","state","scrollValue","react_native_1","Animated","Value","panResponder","PanResponder","create","onStartShouldSetPanResponder","startPanResponder","onMoveShouldSetPanResponder","e","g","Math","abs","dx","dy","onPanResponderTerminationRequest","onPanResponderGrant","onPanResponderStart","onPanResponderMove","computePanOffset","gotoPage","onPanResponderEnd","endPanResponder","scrollView","scrollTo","x","animated","autoplay","startAutoPlay","index","loop","nextProps","stopAutoPlay","setInterval","gotoNextPage","autoplayTimeout","clearInterval","offset","pageSize","slipFactor","pageAnimation","stop","newIndex","vx","floor","ceil","round","childrenNum","getChildrenNum","cb","setIndex","onPageChanged","Number","isInteger","getCurrentPage","animation","animationId","addListener","start","removeListener","loopJump","setValue","children","pages","Children","toArray","length","config","showsPageIndicator","renderPageIndicator","pageNum","indicators","i","push","createElement","View","key","style","styles","pageIndicatorStyle","pageIndicatorOffset","left","interpolate","inputRange","outputRange","pageIndicatorContainerStyle","activePageIndicatorStyle","unshift","map","page","width","content","translateX","flexDirection","transform","panHandlers","ScrollView","ref","contentContainerStyle","horizontal","pagingEnabled","directionalLockEnabled","bounces","alwaysBounceHorizontal","alwaysBounceVertical","showsVerticalScrollIndicator","showsHorizontalScrollIndicator","scrollEnabled","Platform","OS","renderIndicator","Component","defaultProps","Dimensions","get","animate","toValue","spring","friction","tension","default","StyleSheet","height","borderRadius","marginHorizontal","backgroundColor","position","alignSelf","bottom"],"mappings":"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","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst React = require(\"react\");\r\nconst react_native_1 = require(\"react-native\");\r\nclass Carousel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.autoPlayTimer = 0;\r\n        this.currentIndex = 0;\r\n        this.panStartIndex = 0;\r\n        this.panOffsetFactor = 0;\r\n        this.state = {\r\n            scrollValue: new react_native_1.Animated.Value(0)\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.panResponder = react_native_1.PanResponder.create({\r\n            onStartShouldSetPanResponder: () => {\r\n                this.startPanResponder();\r\n                return true;\r\n            },\r\n            onMoveShouldSetPanResponder: (e, g) => {\r\n                if (Math.abs(g.dx) > Math.abs(g.dy)) {\r\n                    this.startPanResponder();\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            },\r\n            onPanResponderTerminationRequest: () => {\r\n                return false;\r\n            },\r\n            onPanResponderGrant: () => {\r\n                this.startPanResponder();\r\n            },\r\n            onPanResponderStart: (e, g) => {\r\n                this.startPanResponder();\r\n            },\r\n            onPanResponderMove: (e, g) => {\r\n                this.panOffsetFactor = this.computePanOffset(g);\r\n                this.gotoPage(this.panStartIndex + this.panOffsetFactor, false);\r\n            },\r\n            onPanResponderEnd: (e, g) => {\r\n                this.endPanResponder(g);\r\n                this.scrollView.scrollTo({ x: 0, animated: false });\r\n            }\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.autoplay) {\r\n            this.startAutoPlay();\r\n        }\r\n        this.gotoPage(this.props.index + (this.props.loop ? 1 : 0), false);\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.autoplay) {\r\n            this.startAutoPlay();\r\n        }\r\n        else {\r\n            this.stopAutoPlay();\r\n        }\r\n    }\r\n    startAutoPlay() {\r\n        this.stopAutoPlay();\r\n        if (!this.autoPlayTimer) {\r\n            this.autoPlayTimer = setInterval(() => {\r\n                this.gotoNextPage();\r\n            }, this.props.autoplayTimeout);\r\n        }\r\n    }\r\n    stopAutoPlay() {\r\n        if (this.autoPlayTimer) {\r\n            clearInterval(this.autoPlayTimer);\r\n            this.autoPlayTimer = 0;\r\n        }\r\n    }\r\n    computePanOffset(g) {\r\n        let offset = -g.dx / (this.props.pageSize / this.props.slipFactor);\r\n        if (Math.abs(offset) > 1) {\r\n            offset = offset > 1 ? 1 : -1;\r\n        }\r\n        return offset;\r\n    }\r\n    startPanResponder() {\r\n        this.stopAutoPlay();\r\n        this.panStartIndex = this.currentIndex;\r\n        this.panOffsetFactor = 0;\r\n        if (this.pageAnimation) {\r\n            const index = this.currentIndex;\r\n            this.pageAnimation.stop();\r\n            this.gotoPage(index);\r\n        }\r\n    }\r\n    endPanResponder(g) {\r\n        if (this.props.autoplay) {\r\n            this.startAutoPlay();\r\n        }\r\n        let newIndex = this.currentIndex;\r\n        this.panOffsetFactor = this.computePanOffset(g);\r\n        if (this.panOffsetFactor > 0.5 || (this.panOffsetFactor > 0 && g.vx <= -0.1)) {\r\n            newIndex = Math.floor(this.currentIndex + 1);\r\n        }\r\n        else if (this.panOffsetFactor < -0.5 || (this.panOffsetFactor < 0 && g.vx >= 0.1)) {\r\n            newIndex = Math.ceil(this.currentIndex - 1);\r\n        }\r\n        else {\r\n            newIndex = Math.round(this.currentIndex);\r\n        }\r\n        if (this.currentIndex === newIndex) {\r\n            return;\r\n        }\r\n        this.gotoPage(newIndex);\r\n    }\r\n    gotoNextPage(animated = true) {\r\n        const childrenNum = this.getChildrenNum();\r\n        if (!this.props.loop) {\r\n            if (this.currentIndex === childrenNum - 1) {\r\n                return;\r\n            }\r\n        }\r\n        this.gotoPage(Math.floor(this.currentIndex) + 1);\r\n    }\r\n    gotoPage(index, animated = true, cb = () => { }) {\r\n        const childrenNum = this.getChildrenNum();\r\n        if (childrenNum <= 1) {\r\n            return cb();\r\n        }\r\n        if (index < 0) {\r\n            index = 0;\r\n        }\r\n        if (index > childrenNum - 1) {\r\n            index = childrenNum - 1;\r\n        }\r\n        const setIndex = (index) => {\r\n            this.currentIndex = index;\r\n            if (this.props.onPageChanged && Number.isInteger(this.currentIndex)) {\r\n                this.props.onPageChanged(this.getCurrentPage());\r\n            }\r\n        };\r\n        if (animated) {\r\n            this.pageAnimation = this.props.animation(this.state.scrollValue, index);\r\n            const animationId = this.state.scrollValue.addListener((state) => {\r\n                setIndex(state.value);\r\n            });\r\n            this.pageAnimation.start(() => {\r\n                this.state.scrollValue.removeListener(animationId);\r\n                setIndex(index);\r\n                this.pageAnimation = null;\r\n                this.loopJump();\r\n                cb();\r\n            });\r\n        }\r\n        else {\r\n            this.state.scrollValue.setValue(index);\r\n            setIndex(index);\r\n            this.loopJump();\r\n            cb();\r\n        }\r\n    }\r\n    /**\r\n     * -0.5 <= pageIndex <= (pages.length - 1 + 0.5)\r\n     */\r\n    getCurrentPage() {\r\n        const childrenNum = this.getChildrenNum();\r\n        if (childrenNum <= 1) {\r\n            return childrenNum;\r\n        }\r\n        const index = this.currentIndex;\r\n        if (this.props.loop) {\r\n            if (index < 0.5) {\r\n                return index + childrenNum - 2 - 1;\r\n            }\r\n            else if (index > childrenNum - 2 + 0.5) {\r\n                return index - childrenNum + 1;\r\n            }\r\n            else {\r\n                return index - 1;\r\n            }\r\n        }\r\n        else {\r\n            return index;\r\n        }\r\n    }\r\n    loopJump() {\r\n        if (!this.props.loop) {\r\n            return;\r\n        }\r\n        const childrenNum = this.getChildrenNum();\r\n        if (childrenNum <= 1) {\r\n            return;\r\n        }\r\n        if (this.currentIndex === 0) {\r\n            this.gotoPage(childrenNum - 2, false);\r\n        }\r\n        else if (this.currentIndex === (childrenNum - 1)) {\r\n            this.gotoPage(1, false);\r\n        }\r\n    }\r\n    getChildrenNum() {\r\n        const { children, loop } = this.props;\r\n        let pages = React.Children.toArray(children);\r\n        if (pages.length < 2) {\r\n            return 1;\r\n        }\r\n        if (loop) {\r\n            return pages.length + 2;\r\n        }\r\n        else {\r\n            return pages.length;\r\n        }\r\n    }\r\n    renderIndicator(config) {\r\n        if (!this.props.showsPageIndicator) {\r\n            return null;\r\n        }\r\n        if (this.props.renderPageIndicator) {\r\n            return this.props.renderPageIndicator(config);\r\n        }\r\n        const { childrenNum, pageNum, loop, scrollValue } = config;\r\n        if (pageNum === 0) {\r\n            return null;\r\n        }\r\n        const indicators = [];\r\n        for (let i = 0; i < pageNum; i++) {\r\n            indicators.push(React.createElement(react_native_1.View, { key: i, style: [styles.pageIndicatorStyle, this.props.pageIndicatorStyle] }));\r\n        }\r\n        const offset = this.props.pageIndicatorOffset;\r\n        let left;\r\n        if (pageNum === 1) {\r\n            left = this.state.scrollValue.interpolate({\r\n                inputRange: [0, 1],\r\n                outputRange: [0, 0]\r\n            });\r\n        }\r\n        else if (!loop) {\r\n            left = this.state.scrollValue.interpolate({\r\n                inputRange: [0, 1],\r\n                outputRange: [0, offset]\r\n            });\r\n        }\r\n        else {\r\n            left = this.state.scrollValue.interpolate({\r\n                inputRange: [0, 1, 2, childrenNum - 2, childrenNum - 1],\r\n                outputRange: [0, 0, offset, offset * (childrenNum - 3), offset * (childrenNum - 3)]\r\n            });\r\n        }\r\n        return (React.createElement(react_native_1.View, { style: [styles.pageIndicatorContainerStyle, this.props.pageIndicatorContainerStyle] },\r\n            indicators,\r\n            React.createElement(react_native_1.Animated.View, { style: [\r\n                    styles.pageIndicatorStyle, styles.activePageIndicatorStyle,\r\n                    this.props.pageIndicatorStyle, this.props.activePageIndicatorStyle,\r\n                    { left: left }\r\n                ] })));\r\n    }\r\n    render() {\r\n        const { children, pageSize, loop } = this.props;\r\n        const { scrollValue } = this.state;\r\n        let pages = React.Children.toArray(children);\r\n        const pageNum = pages.length;\r\n        if (loop && pages.length > 1) {\r\n            pages.unshift(pages[pages.length - 1]);\r\n            pages.push(pages[1]);\r\n        }\r\n        pages = pages.map((page, index) => {\r\n            return (React.createElement(react_native_1.View, { key: index, style: { width: pageSize } }, page));\r\n        });\r\n        const childrenNum = pages.length;\r\n        let content;\r\n        if (childrenNum < 1) {\r\n            content = null;\r\n        }\r\n        else {\r\n            const translateX = scrollValue.interpolate({\r\n                inputRange: [0, 1, childrenNum],\r\n                outputRange: [0, -pageSize, -childrenNum * pageSize]\r\n            });\r\n            content = (React.createElement(react_native_1.Animated.View, Object.assign({ style: { flexDirection: 'row', width: pageSize * childrenNum, transform: [{ translateX }] } }, this.panResponder.panHandlers), pages));\r\n        }\r\n        return (React.createElement(react_native_1.View, null,\r\n            React.createElement(react_native_1.ScrollView, { ref: ref => this.scrollView = ref, style: { width: pageSize }, contentContainerStyle: { width: pageSize + 1 }, horizontal: true, pagingEnabled: true, directionalLockEnabled: true, bounces: false, alwaysBounceHorizontal: false, alwaysBounceVertical: false, showsVerticalScrollIndicator: false, showsHorizontalScrollIndicator: false, scrollEnabled: react_native_1.Platform.OS === 'ios' ? true : false }, content),\r\n            this.renderIndicator({ childrenNum, pageNum, loop, scrollValue })));\r\n    }\r\n}\r\nCarousel.defaultProps = {\r\n    pageSize: react_native_1.Dimensions.get('window').width,\r\n    index: 0,\r\n    loop: true,\r\n    autoplay: true,\r\n    autoplayTimeout: 5000,\r\n    slipFactor: 1,\r\n    showsPageIndicator: true,\r\n    pageIndicatorOffset: 16,\r\n    animation: (animate, toValue) => {\r\n        return react_native_1.Animated.spring(animate, {\r\n            toValue: toValue,\r\n            friction: 10,\r\n            tension: 50\r\n        });\r\n    }\r\n};\r\nexports.default = Carousel;\r\nconst styles = react_native_1.StyleSheet.create({\r\n    pageIndicatorStyle: {\r\n        width: 6,\r\n        height: 6,\r\n        borderRadius: 3,\r\n        marginHorizontal: 5,\r\n        backgroundColor: 'rgba(0,0,0,.4)'\r\n    },\r\n    activePageIndicatorStyle: {\r\n        position: 'absolute',\r\n        backgroundColor: '#ffc81f',\r\n    },\r\n    pageIndicatorContainerStyle: {\r\n        position: 'absolute',\r\n        alignSelf: 'center',\r\n        flexDirection: 'row',\r\n        bottom: 10\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"script"}